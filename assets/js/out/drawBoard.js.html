<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: drawBoard.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: drawBoard.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>let grid = null
let field = null
let cell = null
// sound file for cheating sound from https://freesound.org/people/FuelStream/sounds/336276/
let cheaterSound = new Audio('./assets/css/sounds/cheaterSound.wav')
/**
 * Represents a board. Pre: Empty body of HTML; Post: Playing field is generated in the body
 * @constructor
 * @param {int} height - The height of the grid.
 * @param {int} width - The width of the grid.
 * @param {int} bombs - The amount of bombs to be placed in the grid.
 * @returns - nothing
 */
function drawBoard (height, width, bombs) {
  cell = []
  field = new MineField(height, width, bombs)

  grid = document.createElement('table')
  grid.className = 'grid'

  for (let r = 0; r &lt; height; r++) {
    let tr = grid.appendChild(document.createElement('tr')) // creates a new row for each r value
    cell.push([0])

    for (let c = 0; c &lt; width; c++) {
      cell[r][c] = tr.appendChild(document.createElement('td')) // creates a new table data cell in the current row for each column
      cell[r][c].onclick = function () {
        field.Click(cell, r, c)
      }
      cell[r][c].oncontextmenu = function () {
        document.getElementById('flagsOutput').innerHTML = field.Flag(cell, r, c)
        document.getElementById('flagsOutput').style.color = 'white'
        return false
      }

      cell[r][c].onmouseover = function () {
        document.getElementById('statsNow').innerHTML = field.statsReport(cell, r, c, bombs)
        return false
      }
    }
    document.body.appendChild(grid)
  }
}

/**
 * Removes the old table from the page. Pre: Grid is already generated; Post: All elements of the grid are deleted
 * @function
 * @returns - nothing
 */
function deleteBoard () {
  if (grid != null) {
    document.body.removeChild(grid)
  }
}

/**
 * @desc Reveals all tiles on first button press and sets it back on second. Pre: Grid is already generated; Post: Reveals 
 *       tiles/Return to previous state
 * @function
 * @returns - nothing
 */
function CheatMode () {
  if (field.cheatOnce === false) {
    cheaterSound.play()
    field.cheatOnce = true
  }
  if (field.cheat === false) {
    field.cheat = true
    for (let k = 0; k &lt; field.height; k++) {
      for (let j = 0; j &lt; field.width; j++) {
        field.arr[k][j].lastState = cell[k][j].className
        if (field.arr[k][j].mine === true) {
          cell[k][j].className = 'bomb'
        } else {
          cell[k][j].className = 'clicked' + field.arr[k][j].adjminenum
        }
      }
    }
  } else {
    field.cheat = false
    for (let k = 0; k &lt; field.height; k++) {
      for (let j = 0; j &lt; field.width; j++) {
        cell[k][j].className = field.arr[k][j].lastState
      }
    }
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="drawBoard.html">drawBoard</a></li></ul><h3>Global</h3><ul><li><a href="global.html#CheatMode">CheatMode</a></li><li><a href="global.html#deleteBoard">deleteBoard</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Oct 10 2018 19:16:37 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
